{"ast":null,"code":"// ClientesList.js\nimport React,{useState,useEffect}from'react';import axios from'axios';import'./ClientesList.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const API_URL='http://localhost:8000/clientes-inadimplentes/';function ClientesList(){const[clientes,setClientes]=useState([]);const[termoBusca,setTermoBusca]=useState('');const[loading,setLoading]=useState(true);useEffect(()=>{console.log('Fazendo requisição para obter dados dos clientes...');axios.get(API_URL).then(response=>{setClientes(response.data);setLoading(false);}).catch(error=>{console.error('Erro ao obter dados dos clientes:',error);setLoading(false);});},[]);const ordenarPorNome=()=>{const clientesOrdenados=[...clientes].sort((a,b)=>a.nome.localeCompare(b.nome));setClientes(clientesOrdenados);};const ordenarPorValorInadimplencia=()=>{const clientesOrdenados=[...clientes].sort((a,b)=>parseFloat(a.valor_inadimplencia)-parseFloat(b.valor_inadimplencia));setClientes(clientesOrdenados);};const ordenarPorDataPrimeiraInadimplencia=()=>{const clientesOrdenados=[...clientes].sort((a,b)=>new Date(a.data_inadimplencia)-new Date(b.data_inadimplencia));setClientes(clientesOrdenados);};const filtrarClientes=()=>{axios.get(\"\".concat(API_URL,\"?search=\").concat(termoBusca)).then(response=>{setClientes(response.data);}).catch(error=>{console.error('Erro ao filtrar clientes:',error);});};const handleTermoBuscaChange=event=>{setTermoBusca(event.target.value);};return/*#__PURE__*/_jsxs(\"div\",{className:\"clientes-list-container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Lista de Clientes Inadimplentes\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"clientes-list-filtro\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Digite para buscar...\",value:termoBusca,onChange:handleTermoBuscaChange}),/*#__PURE__*/_jsx(\"button\",{onClick:filtrarClientes,children:\"Buscar\"})]}),loading?/*#__PURE__*/_jsx(\"p\",{children:\"Carregando...\"}):/*#__PURE__*/_jsxs(\"table\",{className:\"clientes-list-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{onClick:ordenarPorNome,children:\"Nome\"}),/*#__PURE__*/_jsx(\"th\",{onClick:ordenarPorValorInadimplencia,children:\"Valor da Inadimpl\\xEAncia\"}),/*#__PURE__*/_jsx(\"th\",{onClick:ordenarPorDataPrimeiraInadimplencia,children:\"Desde\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:clientes.map(cliente=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:cliente.nome}),/*#__PURE__*/_jsxs(\"td\",{children:[\"R$\",cliente.valor_inadimplencia]}),\" \",\"                \",/*#__PURE__*/_jsx(\"td\",{children:cliente.data_inadimplencia})]},cliente.id))})]})]});}export default ClientesList;","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","API_URL","ClientesList","clientes","setClientes","termoBusca","setTermoBusca","loading","setLoading","console","log","get","then","response","data","catch","error","ordenarPorNome","clientesOrdenados","sort","a","b","nome","localeCompare","ordenarPorValorInadimplencia","parseFloat","valor_inadimplencia","ordenarPorDataPrimeiraInadimplencia","Date","data_inadimplencia","filtrarClientes","concat","handleTermoBuscaChange","event","target","value","className","children","type","placeholder","onChange","onClick","map","cliente","id"],"sources":["/home/higor/ConstanciaTest/Project/frontend_constancia/src/ClientesList.js"],"sourcesContent":["// ClientesList.js\n\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport './ClientesList.css';\n\nconst API_URL = 'http://localhost:8000/clientes-inadimplentes/';\n\nfunction ClientesList() {\n  const [clientes, setClientes] = useState([]);\n  const [termoBusca, setTermoBusca] = useState('');\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    console.log('Fazendo requisição para obter dados dos clientes...');\n    axios.get(API_URL)\n      .then(response => {\n        setClientes(response.data);\n        setLoading(false);\n      })\n      .catch(error => {\n        console.error('Erro ao obter dados dos clientes:', error);\n        setLoading(false);\n      });\n  }, []);\n\n  const ordenarPorNome = () => {\n    const clientesOrdenados = [...clientes].sort((a, b) => a.nome.localeCompare(b.nome));\n    setClientes(clientesOrdenados);\n  };\n\n  const ordenarPorValorInadimplencia = () => {\n    const clientesOrdenados = [...clientes].sort((a, b) => parseFloat(a.valor_inadimplencia) - parseFloat(b.valor_inadimplencia));\n    setClientes(clientesOrdenados);\n  };\n\n  const ordenarPorDataPrimeiraInadimplencia = () => {\n    const clientesOrdenados = [...clientes].sort((a, b) => new Date(a.data_inadimplencia) - new Date(b.data_inadimplencia));\n    setClientes(clientesOrdenados);\n  };\n\n  const filtrarClientes = () => {\n    axios.get(`${API_URL}?search=${termoBusca}`)\n      .then(response => {\n        setClientes(response.data);\n      })\n      .catch(error => {\n        console.error('Erro ao filtrar clientes:', error);\n      });\n  };\n\n  const handleTermoBuscaChange = (event) => {\n    setTermoBusca(event.target.value);\n  };\n\n  return (\n    <div className=\"clientes-list-container\">\n      <h1>Lista de Clientes Inadimplentes</h1>\n      <div className=\"clientes-list-filtro\">\n        <input \n          type=\"text\" \n          placeholder=\"Digite para buscar...\" \n          value={termoBusca} \n          onChange={handleTermoBuscaChange} \n        />\n        <button onClick={filtrarClientes}>Buscar</button>\n      </div>\n      {loading ? (\n        <p>Carregando...</p>\n      ) : (\n        <table className=\"clientes-list-table\">\n          <thead>\n            <tr>\n              <th onClick={ordenarPorNome}>Nome</th>\n              <th onClick={ordenarPorValorInadimplencia}>Valor da Inadimplência</th>\n              <th onClick={ordenarPorDataPrimeiraInadimplencia}>Desde</th>\n            </tr>\n          </thead>\n          <tbody>\n            {clientes.map(cliente => (\n              <tr key={cliente.id}>\n                <td>{cliente.nome}</td>\n                <td>R${cliente.valor_inadimplencia}</td> {/* Adicionando \"R$\" aqui */}                <td>{cliente.data_inadimplencia}</td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      )}\n    </div>\n  );\n}\n\nexport default ClientesList;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}